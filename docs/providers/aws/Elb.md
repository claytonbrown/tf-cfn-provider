# Terraform::AWS::Elb

Provides an Elastic Load Balancer resource, also known as a "Classic
Load Balancer" after the release of
[Application/Network Load Balancers](/docs/providers/aws/r/lb.html).

~> **NOTE on ELB Instances and ELB Attachments:** Terraform currently
provides both a standalone [ELB Attachment resource](elb_attachment.html)
(describing an instance attached to an ELB), and an ELB resource with
`Instances` defined in-line. At this time you cannot use an ELB with in-line
instances in conjunction with a ELB Attachment resources. Doing so will cause a
conflict and will overwrite attachments.

## Properties

`Name` - (Optional) The name of the ELB. By default generated by Terraform.

`NamePrefix` - (Optional, Forces new resource) Creates a unique name beginning with the specified prefix. Conflicts with `Name`.

`AccessLogs` - (Optional) An Access Logs block. Access Logs documented below.

`AvailabilityZones` - (Required for an EC2-classic ELB) The AZ's to serve traffic in.

`SecurityGroups` - (Optional) A list of security group IDs to assign to the ELB. Only valid if creating an ELB within a VPC.

`Subnets` - (Required for a VPC ELB) A list of subnet IDs to attach to the ELB.

`Instances` - (Optional) A list of instance ids to place in the ELB pool.

`Internal` - (Optional) If true, ELB will be an internal ELB.

`Listener` - (Required) A list of listener blocks. Listeners documented below.

`HealthCheck` - (Optional) A health_check block. Health Check documented below.

`CrossZoneLoadBalancing` - (Optional) Enable cross-zone load balancing. Default: `true`.

`IdleTimeout` - (Optional) The time in seconds that the connection is allowed to be idle. Default: `60`.

`ConnectionDraining` - (Optional) Boolean to enable connection draining. Default: `false`.

`ConnectionDrainingTimeout` - (Optional) The time in seconds to allow for connections to drain. Default: `300`.

`Tags` - (Optional) A mapping of tags to assign to the resource.

`Bucket` - (Required) The S3 bucket name to store the logs in.

`BucketPrefix` - (Optional) The S3 bucket prefix. Logs are stored in the root if not configured.

`Interval` - (Required) The interval between checks.

`Enabled` - (Optional) Boolean to enable / disable `AccessLogs`. Default is `true`.

`InstancePort` - (Required) The port on the instance to route to.

`InstanceProtocol` - (Required) The protocol to use to the instance. Valid values are `HTTP`, `HTTPS`, `TCP`, or `SSL`.

`LbPort` - (Required) The port to listen on for the load balancer.

`LbProtocol` - (Required) The protocol to listen on. Valid values are `HTTP`, `HTTPS`, `TCP`, or `SSL`.

`SslCertificateId` - (Optional) The ARN of an SSL certificate you have uploaded to AWS IAM. **Note ECDSA-specific restrictions below.  Only valid when `LbProtocol` is either HTTPS or SSL**.

`HealthyThreshold` - (Required) The number of checks before the instance is declared healthy.

`UnhealthyThreshold` - (Required) The number of checks before the instance is declared unhealthy.

`Target` - (Required) The target of the check. Valid pattern is "${PROTOCOL}:${PORT}${PATH}", where PROTOCOL values are: * `HTTP`, `HTTPS` - PORT and PATH are required * `TCP`, `SSL` - PORT is required, PATH is not supported.

`Timeout` - (Required) The length of time before the check times out.


## Return Values

### Fn::GetAtt

`Id` - The name of the ELB.

`Arn` - The ARN of the ELB.

`Name` - The name of the ELB.

`DnsName` - The DNS name of the ELB.

`Instances` - The list of instances in the ELB.

`SourceSecurityGroup` - The name of the security group that you can use as.

`SourceSecurityGroupId` - The ID of the security group that you can use as.

`ZoneId` - The canonical hosted zone ID of the ELB (to be used in a Route 53 Alias record).

## See Also

* [aws_elb](https://www.terraform.io/docs/providers/aws/r/elb.html) in the _Terraform Provider Documentation_